/* ================================
   RadMentor â€“ Quiz UI (polished)
   ================================ */

:root{
  --bg-color:#f6f9ff;
  --container-bg: rgba(255,255,255,.6);
  --border: rgba(15,23,42,.08);
  --ink:#0f172a;
  --muted:#64748b;
  --primary:#3b82f6;
  --primary-600:#2563eb;
  --ring: rgba(59,130,246,.25);

  --good-bg:#dcfce7; --good-b:#22c55e; --good-t:#166534;
  --bad-bg:#fee2e2;  --bad-b:#ef4444;  --bad-t:#991b1b;
  --warn:#f59e0b;
}

html,body{
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  background:
    radial-gradient(900px 300px at 8% -8%, rgba(59,130,246,.12), transparent 60%),
    radial-gradient(900px 300px at 92% -8%, rgba(16,185,129,.12), transparent 60%),
    linear-gradient(180deg,#f8fafc 0%, #ffffff 60%);
  color:var(--ink);
  margin:0; padding:24px;
}

/* Screens */
.main-container{max-width:1100px;margin:0 auto;}
.screen{display:none}
.screen.active{display:block;animation:fade .35s ease}
@keyframes fade{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:none}}

.selection-container,.quiz-container,.results-container,.modal-content{
  background:var(--container-bg);
  border:1px solid var(--border);
  border-radius:20px;
  backdrop-filter: blur(18px) saturate(160%);
  -webkit-backdrop-filter: blur(18px) saturate(160%);
  box-shadow:0 12px 30px rgba(2,6,23,.06);
  padding:20px;
}

/* ---------- View pills ---------- */
.view-switch{display:flex;gap:10px;align-items:center}
.view-pill{
  padding:.6rem 1.2rem;border-radius:9999px;border:2px solid transparent;
  background:#fff;color:#0f172a;font-weight:700;cursor:pointer;
  box-shadow:0 2px 10px rgba(15,23,42,.08);
}
.view-pill.active{border-color:#f59e0b; box-shadow:0 0 0 6px rgba(245,158,11,.15)}
.view-pill:not(.active):hover{border-color:#ef4444}

/* ---------- System tabs ---------- */
#system-tabs{display:flex;flex-wrap:wrap;gap:.6rem}
.system-tab{
  padding:.45rem 1rem;border-radius:9999px;border:1px solid #e5e7eb;
  background:#fff;color:#334155;font-weight:600;cursor:pointer;
}
.system-tab:hover{border-color:#94a3b8;color:#0f172a}
.system-tab.active{background:#1e3a8a;border-color:#1e3a8a;color:#fff}

/* ---------- Paper grid & tiles ---------- */
#paper-card-grid{
  display:grid; gap:16px; margin-top:18px;
  grid-template-columns: repeat(auto-fit,minmax(280px,1fr));
}

.topic-card.rad-card{position:relative; padding:2px; border-radius:16px; text-decoration:none; display:block;}
.topic-card.rad-card::before{
  content:"";position:absolute;inset:0;border-radius:inherit;padding:2px;
  background:linear-gradient(120deg,rgba(59,130,246,.9),rgba(30,64,175,.8));
  -webkit-mask:linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite:xor; mask-composite:exclude; opacity:.9; transition:.3s;
}
.topic-card .rad-card-inner{
  border-radius:14px;background:rgba(255,255,255,.92);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.6), 0 0 0 1px rgba(148,163,184,.14);
  padding:18px 20px; display:flex; justify-content:space-between; align-items:center;
}
.topic-card:hover{transform:translateY(-4px)}
.topic-card:hover::before{opacity:1}

.topic-badge{
  display:inline-block;padding:.25rem .6rem;border-radius:10px;
  font-size:.75rem;font-weight:800;color:#1e3a8a;background:#e0e7ff; letter-spacing:.02em;
}
.topic-title{margin:.4rem 0 0; font-size:1.05rem; font-weight:800; color:#0f172a}
.topic-arrow{width:26px;height:26px;color:#94a3b8}
.topic-card:hover .topic-arrow{color:#2563eb}

/* ---------- Quiz header & pagination ---------- */
.quiz-header{display:flex;justify-content:space-between;align-items:center;gap:14px;padding:14px 16px;border-bottom:1px solid var(--border)}
.quiz-header h1{margin:0;font-size:1.1rem;font-weight:800;max-width:55ch;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.header-controls{display:flex;gap:12px;align-items:center}
.timer{font-weight:800;background:rgba(59,130,246,.12);padding:.3rem .6rem;border-radius:8px;color:#2563eb}

.switch{position:relative;display:inline-block;width:50px;height:28px}
.switch input{opacity:0;width:0;height:0}
.slider{position:absolute;inset:0;border-radius:28px;background:#cbd5e1;transition:.3s}
.slider:before{content:"";position:absolute;left:4px;bottom:4px;width:20px;height:20px;border-radius:9999px;background:#fff;transition:.3s}
input:checked + .slider{background:#3b82f6}
input:checked + .slider:before{transform:translateX(22px)}

.quiz-pagination-header{position:sticky;top:0;z-index:10;background:rgba(255,255,255,.7);backdrop-filter:blur(8px);padding:10px 12px;border-bottom:1px solid var(--border);overflow-x:auto;white-space:nowrap}
.page-box{
  display:inline-flex;justify-content:center;align-items:center;width:42px;height:42px;
  margin-right:8px;border-radius:10px;background:#fff;border:1px solid var(--border);font-weight:800;cursor:pointer;transition:.15s
}
.page-box:hover{transform:scale(1.06)}
.page-box.active{background:#3b82f6;color:#fff;border-color:#3b82f6;transform:scale(1.08)}
.page-box.answered-correct{background:var(--good-bg);border-color:var(--good-b);color:var(--good-t)}
.page-box.answered-incorrect{background:var(--bad-bg);border-color:var(--bad-b);color:var(--bad-t)}
.page-box.flagged::after{content:"";position:absolute;width:8px;height:8px;top:6px;right:6px;background:#ef4444;border-radius:50%}

/* ---------- Question area ---------- */
.question-area{padding:18px}
.question-title-bar{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.question-number{color:var(--muted);font-weight:700}
.question-controls{display:flex;gap:10px;align-items:center}
.exam-hash{font-size:.8rem;font-weight:800;color:#334155;background:#e2e8f0;border:1px solid #cbd5e1;padding:.15rem .5rem;border-radius:8px}

.main-question-text{
  font-size:1.22rem; line-height:1.55; font-weight:800; color:#0f172a;
  letter-spacing:.01em; margin:.65rem 0 1rem;
}

.option-btn{
  display:block;width:100%;text-align:left;padding:14px 16px;margin:10px 0;border-radius:12px;
  border:1px solid var(--border);background:#fff;cursor:pointer;transition:.18s;box-shadow:0 1px 0 rgba(2,6,23,.03)
}
.option-btn:hover{border-color:var(--primary); background:rgba(59,130,246,.06); transform:translateY(-2px)}
.option-btn.selected{border-color:var(--primary); background:rgba(59,130,246,.12); font-weight:700}
.option-btn.correct{background:var(--good-bg); border-color:var(--good-b); color:var(--good-t); font-weight:800}
.option-btn.incorrect{background:var(--bad-bg); border-color:var(--bad-b); color:var(--bad-t); font-weight:800}

.icon-btn{background:none;border:none;color:#64748b;cursor:pointer}
.icon-btn:hover{color:#0f172a}
.icon-btn svg{width:22px;height:22px}
.bookmark-btn.bookmarked{color:var(--warn)}
.flag-btn.flagged{color:#ef4444}

.explanation-box{margin-top:12px;padding:14px;background:rgba(248,250,252,.75);border-left:4px solid var(--primary);border-radius:12px}

/* Buttons */
.finish-btn-header{padding:.45rem .9rem;border-radius:9px;border:1px solid var(--primary);background:var(--primary);color:#fff;font-weight:800;cursor:pointer}
.finish-btn-header:hover{background:var(--primary-600);border-color:var(--primary-600);box-shadow:0 6px 16px rgba(37,99,235,.25);transform:translateY(-2px)}

.results-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:16px}
.stat-card{background:#fff;border:1px solid var(--border);border-radius:16px;padding:16px}
.stat-card h3{margin:0 0 10px;font-weight:900}

.results-actions{display:flex;flex-wrap:wrap;gap:10px;justify-content:center;margin-top:18px}
.results-btn{padding:.6rem 1rem;border-radius:10px;border:1px solid transparent;cursor:pointer;font-weight:800}
.results-btn.primary{background:#3b82f6;color:#fff}
.results-btn.secondary{background:#fff;border-color:var(--border)}
.results-btn.danger{background:#ef4444;color:#fff}
.results-btn.warning{background:#f59e0b;color:#fff}

/* Modal & loader */
.modal{display:none;position:fixed;inset:0;z-index:100;background:rgba(0,0,0,.5);backdrop-filter:blur(6px);align-items:center;justify-content:center}
.modal-content{max-width:420px;width:min(92vw,420px);text-align:center}
.modal-buttons{display:flex;gap:.75rem;justify-content:center}

.loader{width:36px;height:36px;border:3px solid rgba(59,130,246,.25);border-top-color:#3b82f6;border-radius:50%;animation:spin 1s linear infinite;margin:0 auto}
@keyframes spin{to{transform:rotate(360deg)}}

.hidden{display:none !important}
