<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RadMentor - Comprehensive Radiology Learning Source</title>

    <script src="https://cdn.tailwindcss.com"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <style>
        /* --- NEW THEME: A Domain Odyssey - Spaceship --- */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap');

        :root {
            --background-color: #f4f7fc;
            --primary-blue: #4a4aff;
            --text-color: #1a1a3a;
            --text-color-secondary: #6e6e8c;
            --surface-color: #ffffff;
            --border-color: #dfe1e6;
            --button-hover-color: #6a6aff;
            --blob-color-1: #ff6f91;
            --blob-color-2: #4fc3f7;
        }

        * { box-sizing: border-box; }

        html { scroll-behavior: smooth; scroll-snap-type: y proximity; }

        body {
            font-family: 'Inter', sans-serif;
            color: var(--text-color);
            background-color: var(--background-color);
            overflow-x: hidden;
        }

        .backdrop {
            position: fixed; inset: 0; z-index: -1;
            background:
                radial-gradient(50% 70% at 80% -10%, var(--blob-color-1), transparent 60%),
                radial-gradient(60% 80% at 0% 0%, var(--blob-color-2), transparent 65%),
                linear-gradient(180deg, var(--background-color), var(--surface-color) 45%, var(--background-color));
            animation: bgShift linear both;
            animation-timeline: scroll();
            animation-range: 0% 100%;
            filter: blur(60px) saturate(180%);
        }

        @keyframes bgShift {
            0%   { filter: blur(60px) hue-rotate(0deg) brightness(1) saturate(180%); }
            25%  { filter: blur(60px) hue-rotate(60deg) brightness(1.2) saturate(240%); }
            50%  { filter: blur(60px) hue-rotate(120deg) brightness(1.25) saturate(260%); }
            75%  { filter: blur(60px) hue-rotate(180deg) brightness(1.2) saturate(240%); }
            100% { filter: blur(60px) hue-rotate(240deg) brightness(1) saturate(180%); }
        }

        .reveal {
            opacity: 0; transform: translateY(24px);
            animation: fadeUp linear both; animation-timeline: view();
            animation-range: entry 20% cover 30%;
        }

        @keyframes fadeUp { to { opacity: 1; transform: translateY(0); } }

        @media (prefers-reduced-motion: reduce) {
            .backdrop, .reveal { animation: none !important; opacity: 1; transform: none; }
        }

        /* --- RadMentor Custom Styles Adapted for New Theme --- */
        .btn-primary {
            background-color: var(--primary-blue);
            color: white;
            transition: background-color 0.3s ease;
        }
        .btn-primary:hover {
            background-color: var(--button-hover-color);
        }
        .btn-secondary {
            background-color: #eef2f9;
            color: var(--text-color);
            transition: background-color 0.3s ease;
        }
        .btn-secondary:hover {
             background-color: #e1e7f2;
        }
        .text-theme-primary { color: var(--text-color); }
        .text-theme-secondary { color: var(--text-color-secondary); }
        .bg-theme-surface { background-color: var(--surface-color); }
        .border-theme { border: 1px solid var(--border-color); }

        .course-card {
            transition: all 0.3s ease-in-out;
            position: relative;
            z-index: 10;
            background-color: var(--surface-color);
            border: 1px solid var(--border-color);
        }
        .course-card:hover {
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.08), 0 4px 6px rgba(0, 0, 0, 0.05);
            transform: translateY(-5px);
            border-color: var(--primary-blue);
        }

        /* Hover-details popup for courses */
        .course-details {
            position: absolute; top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 100%; max-width: 400px;
            padding: 2rem;
            background-color: var(--surface-color);
            border-radius: 1.5rem;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            z-index: 20;
            opacity: 0; visibility: hidden; pointer-events: none;
            transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out, transform 0.3s ease-in-out;
        }
        .course-card:hover + .course-details,
        .course-details:hover {
            opacity: 1; visibility: visible;
            transform: translate(-50%, -50%) scale(1.05);
            pointer-events: auto;
        }

        /* Header Styling */
        header {
            background-color: color-mix(in srgb, var(--surface-color) 0%, transparent);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px); /* For Safari browser support */
        }
    </style>
</head>
<body>

    <div class="backdrop"></div>

    <div id="loading-indicator" class="fixed inset-0 flex items-center justify-center bg-theme-surface z-50">
        <p class="text-lg text-theme-secondary">Loading RadMentor...</p>
    </div>

    <header class="backdrop-blur-lg fixed top-0 left-0 right-0 z-40">
        <div class="container mx-auto px-6 py-3 flex justify-between items-center">
            <div class="flex items-center">
                    <img src="logo.png" alt="RadMentor Logo" class="w-10 h-10 mr-3">
                    <span class="text-2xl font-bold text-theme-primary">RadMentor</span>
                </div>
            <nav id="main-nav" class="hidden md:flex items-center space-x-8">
                    <a href="#courses" class="text-theme-primary hover:text-blue-500 font-bold">Courses</a>
                    <a href="#pricing" class="text-theme-primary hover:text-blue-500 font-bold">Pricing</a>
                    <a href="#features" class="text-theme-primary hover:text-blue-500 font-bold">Features</a>
                    <a href="#about" class="text-theme-primary hover:text-blue-500 font-bold">About Us</a>
            </nav>
            <div class="flex items-center">
                <div id="header-logged-out" class="flex items-center">
                    <button onclick="showAuthModal('signin')" class="hidden md:block text-theme-secondary hover:text-theme-primary mr-6">Login</button>
                    <button onclick="showAuthModal('signup')" class="btn-primary font-semibold px-5 py-2 rounded-lg shadow-md hover:shadow-lg transition-shadow">
                        Sign Up
                    </button>
                </div>
                <div id="header-logged-in" class="hidden items-center">
                    <span class="hidden sm:block text-theme-primary mr-4">Hi, <span id="user-greeting-header"></span>!</span>
                    <button onclick="showDashboard()" class="btn-primary font-semibold px-5 py-2 rounded-lg shadow-md hover:shadow-lg transition-shadow">
                        Dashboard
                    </button>
                    <button onclick="logout()" class="ml-4 text-theme-secondary hover:text-theme-primary" title="Logout">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line>
                        </svg>
                    </button>
                </div>
                <button id="mobile-menu-button" class="md:hidden ml-4 text-theme-primary">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
                    </svg>
                </button>
            </div>
        </div>
        <div id="mobile-menu" class="hidden md:hidden px-6 pb-4">
            <a href="#courses" class="block py-2 text-theme-secondary hover:text-theme-primary">Courses</a>
            <a href="#pricing" class="block py-2 text-theme-secondary hover:text-theme-primary">Pricing</a>
            <a href="#features" class="block py-2 text-theme-secondary hover:text-theme-primary">Features</a>
            <a href="#about" class="block py-2 text-theme-secondary hover:text-theme-primary">About Us</a>
            <div id="mobile-logged-out">
                <button onclick="showAuthModal('signin')" class="block w-full text-left py-2 text-theme-secondary hover:text-theme-primary">Login</button>
            </div>
            <div id="mobile-logged-in" class="hidden">
                <button onclick="showDashboard()" class="block w-full text-left py-2 text-theme-secondary hover:text-theme-primary">Dashboard</button>
                <button onclick="logout()" class="block w-full text-left py-2 text-theme-secondary hover:text-theme-primary">Logout</button>
            </div>
        </div>
    </header>

    <div id="landing-page" class="hidden">
        <main>
            <section class="pt-40 pb-20">
                <div class="container mx-auto px-6 text-center relative z-10 reveal">
                    <h1 class="text-4xl md:text-6xl font-extrabold text-theme-primary leading-tight">
                        The Worldâ€™s Most Comprehensive <br class="hidden md:block" />
                        <span style="color: var(--primary-blue);">Radiology Learning Source</span>
                    </h1>
                    <p class="mt-6 text-lg text-theme-secondary max-w-3xl mx-auto">
                        Master radiology with our expert-curated Q-banks, mock exams, and in-depth content. Built by radiologists, for future radiologists.
                    </p>
                    <div id="hero-signup-button-container" class="mt-8 flex justify-center gap-4">
                        <button onclick="showAuthModal('signup')" class="btn-primary font-bold px-8 py-3 rounded-lg shadow-lg hover:shadow-xl transition-shadow text-lg">
                            Get Started for Free
                        </button>
                    </div>
                </div>
            </section>

            <section id="courses" class="py-20 reveal">
                <div class="container mx-auto px-6">
                    <div class="text-center mb-12">
                        <h2 class="text-4xl font-bold text-theme-primary">Prepare for Any Exam</h2>
                        <p class="mt-4 text-lg text-theme-secondary">Targeted preparation for all major radiology exams.</p>
                    </div>
                    <div id="courses-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                        </div>
                </div>
            </section>
            
            <section id="pricing" class="py-20 bg-theme-surface reveal">
                <div class="container mx-auto px-6">
                    <div class="text-center mb-12">
                        <h2 class="text-4xl font-bold text-theme-primary">Flexible Pricing for All</h2>
                        <p class="mt-4 text-lg text-theme-secondary">Choose the plan that's right for you. Get started for free!</p>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto">
                        <div class="bg-theme-background p-8 rounded-xl border-theme flex flex-col justify-between">
                            <div>
                                <h3 class="text-3xl font-bold text-theme-primary">Free Plan</h3>
                                <p class="mt-4 text-theme-secondary">For students who want to try before they buy.</p>
                                <div class="mt-6 text-theme-primary">
                                    <span class="text-5xl font-extrabold">â‚¹0</span>
                                    <span class="text-xl font-medium">/month</span>
                                </div>
                                <ul class="mt-6 space-y-3 text-theme-primary">
                                    <li class="flex items-center text-theme-secondary"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-green-500 mr-2"><polyline points="20 6 9 17 4 12"></polyline></svg> Access to a limited number of questions</li>
                                    <li class="flex items-center text-theme-secondary"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-red-500 mr-2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg> No Radscribe AI subscription</li>
                                    <li class="flex items-center text-theme-secondary"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-red-500 mr-2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg> No eAnatomy access</li>
                                </ul>
                            </div>
                            <button onclick="showAuthModal('signup')" class="w-full mt-8 py-3 text-lg font-bold btn-secondary rounded-lg">
                                Get Started
                            </button>
                        </div>
                        
                        <div class="p-8 rounded-xl shadow-xl flex flex-col justify-between transform scale-105 bg-theme-surface" style="border: 2px solid var(--primary-blue);">
                            <div>
                                <div class="flex justify-between items-center">
                                    <h3 class="text-3xl font-bold text-theme-primary">Gold Plan</h3>
                                    <span class="bg-green-500 text-white text-sm font-semibold px-3 py-1 rounded-full">80% OFF</span>
                                </div>
                                <p class="mt-4 text-theme-secondary">Targeted content for specific exams.</p>
                                <div class="mt-6 text-theme-primary">
                                    <div class="flex items-baseline">
                                        <span class="text-5xl font-extrabold">â‚¹3,000</span>
                                        <span class="text-xl font-medium ml-2">/year</span>
                                    </div>
                                    <p class="text-sm text-theme-secondary mt-1 line-through">Original price â‚¹15,000</p>
                                </div>
                                <ul class="mt-6 space-y-3 text-theme-primary">
                                    <li class="flex items-center text-theme-secondary"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-green-500 mr-2"><polyline points="20 6 9 17 4 12"></polyline></svg> FRCR and MICR exams</li>
                                    <li class="flex items-center text-theme-secondary"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-green-500 mr-2"><polyline points="20 6 9 17 4 12"></polyline></svg> Mock exams & question banks</li>
                                    <li class="flex items-center text-theme-secondary"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-red-500 mr-2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg> No Radscribe AI</li>
                                </ul>
                            </div>
                            <button onclick="showContentMessage('Gold Plan checkout coming soon!')" class="w-full mt-8 btn-primary font-bold py-3 rounded-lg shadow-lg hover:shadow-xl transition-shadow text-lg">
                                Buy Gold Plan
                            </button>
                        </div>

                        <div class="bg-theme-background p-8 rounded-xl border-theme flex flex-col justify-between">
                            <div>
                                <div class="flex justify-between items-center">
                                    <h3 class="text-3xl font-bold text-theme-primary">All Access</h3>
                                    <span class="bg-green-500 text-white text-sm font-semibold px-3 py-1 rounded-full">80% OFF</span>
                                </div>
                                <p class="mt-4 text-theme-secondary">Everything you need to excel in all exams.</p>
                                <div class="mt-6 text-theme-primary">
                                    <div class="flex items-baseline">
                                        <span class="text-5xl font-extrabold">â‚¹5,000</span>
                                        <span class="text-xl font-medium ml-2">/year</span>
                                    </div>
                                    <p class="text-sm text-theme-secondary mt-1 line-through">Original price â‚¹25,000</p>
                                </div>
                                <ul class="mt-6 space-y-3 text-theme-primary">
                                    <li class="flex items-center text-theme-secondary"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-green-500 mr-2"><polyline points="20 6 9 17 4 12"></polyline></svg> All exam plans included</li>
                                    <li class="flex items-center text-theme-secondary"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-green-500 mr-2"><polyline points="20 6 9 17 4 12"></polyline></svg> Exclusive content access</li>
                                    <li class="flex items-center text-theme-secondary"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-green-500 mr-2"><polyline points="20 6 9 17 4 12"></polyline></svg> Priority support</li>
                                </ul>
                            </div>
                            <button onclick="showContentMessage('All Access Plan checkout coming soon!')" class="w-full mt-8 btn-primary font-bold py-3 rounded-lg shadow-lg hover:shadow-xl transition-shadow text-lg">
                                Buy All Access
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <section id="features" class="py-20 reveal">
                <div class="container mx-auto px-6">
                    <div class="text-center mb-12">
                        <h2 class="text-4xl font-bold text-theme-primary">Why RadMentor?</h2>
                        <p class="mt-4 text-lg text-theme-secondary">Everything you need to succeed, all in one place.</p>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-10 text-center">
                         <div class="p-6">
                            <div class="w-16 h-16 rounded-full mx-auto flex items-center justify-center shadow-lg" style="background-color: var(--primary-blue);">
                                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-white">
                                    <circle cx="12" cy="8" r="7"></circle><polyline points="8.21 13.89 7 23 12 18 17 23 15.79 13.88"></polyline>
                                </svg>
                            </div>
                            <h3 class="mt-6 text-xl font-bold text-theme-primary">Expert-Curated Content</h3>
                            <p class="mt-2 text-theme-secondary">All questions and explanations are created and verified by top radiologists.</p>
                        </div>
                        <div class="p-6">
                            <div class="w-16 h-16 rounded-full mx-auto flex items-center justify-center shadow-lg" style="background-color: var(--primary-blue);">
                                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-white">
                                    <circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="6"></circle><circle cx="12" cy="12" r="2"></circle>
                                </svg>
                            </div>
                            <h3 class="mt-6 text-xl font-bold text-theme-primary">Realistic Exam Simulation</h3>
                            <p class="mt-2 text-theme-secondary">Experience the real exam environment with our timed mock tests.</p>
                        </div>
                        <div class="p-6">
                            <div class="w-16 h-16 rounded-full mx-auto flex items-center justify-center shadow-lg" style="background-color: var(--primary-blue);">
                                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-white">
                                    <line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line>
                                </svg>
                            </div>
                            <h3 class="mt-6 text-xl font-bold text-theme-primary">Performance Analytics</h3>
                            <p class="mt-2 text-theme-secondary">Track your progress, identify weak areas, and improve your scores.</p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="about" class="py-20 bg-theme-surface reveal">
                <div class="container mx-auto px-6">
                    <div class="text-center mb-12">
                        <h2 class="text-4xl font-bold text-theme-primary">Built by Doctors, for Doctors</h2>
                    </div>
                    <div class="max-w-4xl mx-auto p-10 rounded-xl shadow-lg text-center border-theme">
                        <p class="text-lg text-theme-secondary">
                            We are two radiologists trained at one of Indiaâ€™s premier medical institutes, united by a shared vision: to make high-quality radiology education accessible, affordable, and reliable for all. Every question, explanation, and update is curated by us, backed by evidence, and rooted in real-world radiology practice.
                        </p>
                        <p class="mt-4 text-lg font-semibold text-theme-primary">Welcome to a community built with precision and care.</p>
                    </div>
                </div>
            </section>
        </main>

        <footer class="text-white" style="background-color: #1a1a3a;">
            <div class="container mx-auto px-6 py-12">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div>
                        <h3 class="text-xl font-bold">RadMentor</h3>
                        <p class="mt-2 text-gray-400">The future of radiology education.</p>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold">Quick Links</h3>
                        <ul class="mt-2 space-y-2">
                            <li><a href="#courses" class="text-gray-400 hover:text-white">Courses</a></li>
                            <li><a href="#pricing" class="text-gray-400 hover:text-white">Pricing</a></li>
                            <li><a href="#features" class="text-gray-400 hover:text-white">Features</a></li>
                            <li><a href="#" onclick="showAuthModal('signup')" class="text-gray-400 hover:text-white">Sign Up</a></li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold">Contact</h3>
                        <p class="mt-2 text-gray-400">Email: <a href="mailto:support@radmentor.com" class="hover:text-white">support@radmentor.com</a></p>
                    </div>
                </div>
                <div class="mt-8 pt-8 border-t border-gray-700 text-center text-gray-500">
                    &copy; 2024 RadMentor. All Rights Reserved.
                </div>
            </div>
        </footer>
    </div>

    <div id="auth-modal" class="fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4 hidden">
        <div class="bg-theme-surface rounded-2xl shadow-2xl w-full max-w-md relative">
            <button onclick="hideAuthModal()" class="absolute top-4 right-4 text-gray-500 hover:text-gray-800">
                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
            </button>
            <div class="p-8 md:p-12">
                <div id="auth-container">
                    <h1 id="auth-title" class="text-3xl font-bold text-theme-primary text-center mb-2">Login to RadMentor</h1>
                    <p id="auth-subtitle" class="text-theme-secondary text-center mb-8">Welcome back!</p>
                    <div class="space-y-4">
                        <input type="email" id="email" placeholder="Email" class="w-full px-4 py-3 border-theme rounded-lg focus:outline-none focus:ring-2" style="--tw-ring-color: var(--primary-blue)">
                        <input type="password" id="password" placeholder="Password" class="w-full px-4 py-3 border-theme rounded-lg focus:outline-none focus:ring-2" style="--tw-ring-color: var(--primary-blue)">
                    </div>
                    <button onclick="handleAuth()" id="auth-btn" class="w-full btn-primary font-bold py-3 rounded-lg mt-8 text-lg hover:shadow-lg transition-shadow">Sign In</button>
                    <div class="text-center mt-6">
                        <button onclick="toggleAuth()" id="toggle-btn" class="hover:underline" style="color: var(--primary-blue);">Don't have an account? Sign up</button>
                    </div>
                    <p id="auth-message" class="text-red-500 text-center mt-4 font-medium"></p>
                </div>
            </div>
        </div>
    </div>
    
    <div id="profile-form-container" class="fixed inset-0 bg-theme-background z-50 p-4 hidden overflow-y-auto">
        <div class="bg-theme-surface rounded-2xl shadow-xl w-full max-w-2xl mx-auto my-8 p-8 md:p-12">
            <h1 class="text-3xl font-bold text-theme-primary text-center">Complete Your Profile</h1>
            <p class="text-theme-secondary text-center mb-8">Please provide a few more details to get started.</p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="md:col-span-2"><input type="text" id="name" placeholder="Full Name" class="w-full px-4 py-3 border-theme rounded-lg focus:outline-none focus:ring-2" style="--tw-ring-color: var(--primary-blue)"></div>
                <div>
                    <label class="font-medium text-theme-primary">Date of Birth</label>
                    <input type="date" id="dob" class="w-full mt-1 px-4 py-3 border-theme rounded-lg focus:outline-none focus:ring-2" style="--tw-ring-color: var(--primary-blue)">
                </div>
                <div>
                    <label class="font-medium text-theme-primary">Sex</label>
                    <select id="sex" class="w-full mt-1 px-4 py-3 border-theme rounded-lg focus:outline-none focus:ring-2" style="--tw-ring-color: var(--primary-blue)">
                        <option value="" disabled selected>Select Sex</option>
                        <option>Male</option><option>Female</option><option>Other</option>
                    </select>
                </div>
                <div>
                    <label class="font-medium text-theme-primary">Position</label>
                    <select id="position" class="w-full mt-1 px-4 py-3 border-theme rounded-lg focus:outline-none focus:ring-2" style="--tw-ring-color: var(--primary-blue)">
                        <option value="" disabled selected>Select Position</option>
                        <option>Intern</option><option>Junior Resident</option><option>Senior Resident</option><option>Consultant</option>
                    </select>
                </div>
                <div>
                    <label class="font-medium text-theme-primary">Exam Pursuing</label>
                    <select id="exam_pursuing" class="w-full mt-1 px-4 py-3 border-theme rounded-lg focus:outline-none focus:ring-2" style="--tw-ring-color: var(--primary-blue)">
                        <option value="" disabled selected>Select Exam</option>
                        <option>Final year exam</option><option>DNB</option><option>FRCR</option><option>NEET SS</option><option>INICET SS</option><option>Fellowship exams</option>
                    </select>
                </div>
                <div class="md:col-span-2">
                    <label class="font-medium text-theme-primary">Medical College</label>
                    <input list="colleges" id="college" placeholder="Type to search your college" class="w-full mt-1 px-4 py-3 border-theme rounded-lg focus:outline-none focus:ring-2" style="--tw-ring-color: var(--primary-blue)">
                    <datalist id="colleges"></datalist>
                </div>
            </div>
            <button onclick="submitProfile()" class="w-full btn-primary font-bold py-3 rounded-lg mt-8 text-lg hover:shadow-lg transition-shadow">Submit Profile</button>
        </div>
    </div>

    <div id="message-box" class="fixed bottom-4 right-4 p-4 rounded-lg shadow-lg z-[100] hidden" style="background-color: var(--text-color); color: white;">
        <p id="message-content"></p>
    </div>

    <script type="module">
        // --- FIREBASE SDK IMPORTS ---
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-auth.js";
        import { getFirestore, doc, setDoc, getDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-firestore.js";

        // --- FIREBASE CONFIGURATION ---
        const firebaseConfig = {
            apiKey: "AIzaSyD-OTIwv6P88eT2PCPJXiHgZEDgFV8ZcSw",
            authDomain: "radiology-mcqs.firebaseapp.com",
            projectId: "radiology-mcqs",
            storageBucket: "radiology-mcqs.appspot.com",
            messagingSenderId: "862300415358",
            appId: "1:862300415358:web:097d5e413f388e30587f2f",
            measurementId: "G-0V1SD1H95V"
        };

        // --- INITIALIZE FIREBASE & SERVICES ---
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        // --- STATIC DATA & HELPERS ---
        const coursesData = {
            frcr: { title: 'FRCR Exam Preparation', description: 'Comprehensive question banks and mock tests for the FRCR exam.', icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01" /></svg>`, features: [ 'Great App design for an intuitive experience.', 'Practice tests with the same layout and feel as the RCR website.', 'Comprehensive question banks.', 'Expert-curated content by top radiologists.' ] },
            md_dnb: { title: 'MD / DNB Final Year Exams', description: 'Master your final year exams with our targeted content.', icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.747 0-3.332.477-4.5 1.253" /></svg>`, features: [ 'Previous year question papers for all DNB and MD exams.', 'Focus on recent and high-yield topics.', 'Clear and concise "Lucid Notes".', 'Expert tips for viva examinations.', '**Gamification & Progress:** Track your progress with visual dashboards and earn rewards for milestones.' ] },
            anatomy: { title: 'Anatomy Modules', description: 'Detailed anatomical modules to build a strong foundation.', icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0h.01M9 19h10a2 2 0 002-2v-6a2 2 0 00-2-2H9m11 0V7a2 2 0 00-2-2h-2M4 6h.01M6 6h.01" /></svg>`, features: [ 'A dedicated section for ready referencing of anatomy.', 'Detailed anatomical diagrams and explanations.', 'Quiz-style questions to test your knowledge.' ] },
            superspeciality: { title: 'Superspeciality Exams', description: 'Prepare for NEET SS & INICET SS with high-yield questions.', icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M5 3v4M3 5h4M6 17v-2m-2 2h2m5-12l2-2m2 2l-2-2m-3 12l2 2m2-2l-2 2m-3-7h.01M19 12h.01" /></svg>`, features: [ 'Previous Year Questions (PYQs) for NEET SS & INI SS.', 'Comprehensive Grand Tests to simulate full exams.', 'Targeted content for high-stakes superspeciality exams.' ] },
            fellowship: { title: 'Fellowship Exams', description: 'Excel in your fellowship exams with our specialized modules.', icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V3m0 9v3m0 0h.01M12 12h.01M12 12l-2.58 2.58M12 12l2.58 2.58M12 12l-2.58-2.58M12 12l2.58-2.58M12 12l-2.58 2.58M12 12l2.58 2.58" /></svg>`, features: [ 'Specialized question banks for various fellowships.', 'Detailed content for Thoracic, Fetal, GI, and MSK radiology.', 'General radiology topics also included in the question bank.' ] },
            radscribe_ai: { title: 'RadScribe AI', description: 'An AI-powered tool for generating accurate radiology reports.', icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 17.25v-4.477c0-1.155.26-2.29.75-3.376M9 17.25c-1.35 0-2.61-.527-3.556-1.474M9 17.25h.008m5.042-11.5c1.253 0 2.447.394 3.41 1.115m-3.41-1.115C13.626 4.31 12.09 3.75 10.5 3.75c-1.59 0-3.126.56-4.37 1.639m4.37-1.639h.008M15 17.25v-4.477c0-1.155-.26-2.29-.75-3.376M15 17.25c1.35 0 2.61-.527 3.556-1.474M15 17.25h.008m-5.042-11.5c-1.253 0-2.447-.394-3.41-1.115m3.41 1.115C10.374 4.31 11.91 3.75 13.5 3.75c1.59 0 3.126.56 4.37 1.639m-4.37-1.639h.008" /></svg>`, features: [ 'AI-powered report generation from clinical findings.', 'Helps you practice writing professional radiology reports.', 'Quickly generate templates for common conditions.', 'Saves time and ensures accuracy in your reporting practice.' ] }
        };

        function showContentMessage(message) {
            const msgBox = document.getElementById('message-box');
            const msgContent = document.getElementById('message-content');
            msgContent.textContent = message;
            msgBox.classList.remove('hidden');
            setTimeout(() => { msgBox.classList.add('hidden'); }, 3000);
        }

        // --- APPLICATION LOGIC ---
        document.addEventListener('DOMContentLoaded', () => {
            const loadingIndicator = document.getElementById('loading-indicator');
            const landingPage = document.getElementById('landing-page');
            const profileForm = document.getElementById('profile-form-container');
            const authModal = document.getElementById('auth-modal');
            const authTitle = document.getElementById('auth-title');
            const authSubtitle = document.getElementById('auth-subtitle');
            const authBtn = document.getElementById('auth-btn');
            const toggleBtn = document.getElementById('toggle-btn');
            const authMessage = document.getElementById('auth-message');
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            const heroSignupButton = document.getElementById('hero-signup-button-container');

            let isSignIn = true;

            // --- INITIAL PAGE SETUP ---
            generateCourseCards();
            
            if (mobileMenuButton && mobileMenu) {
                mobileMenuButton.addEventListener('click', () => {
                    mobileMenu.classList.toggle('hidden');
                });
            }

            function updateAuthModalUI() {
                authBtn.disabled = false;
                authMessage.textContent = '';
                if (isSignIn) {
                    authTitle.textContent = 'Login to RadMentor';
                    authSubtitle.textContent = 'Welcome back!';
                    authBtn.textContent = 'Sign In';
                    toggleBtn.innerHTML = "Don't have an account? Sign up";
                } else {
                    authTitle.textContent = 'Create a New Account';
                    authSubtitle.textContent = 'Get started with RadMentor today!';
                    authBtn.textContent = 'Sign Up';
                    toggleBtn.innerHTML = "Already have an account? Login";
                }
            }

            function generateCourseCards() {
                const coursesGrid = document.getElementById('courses-grid');
                if (!coursesGrid) return;
                coursesGrid.innerHTML = '';  
                Object.keys(coursesData).forEach(key => {
                    const course = coursesData[key];
                    const cardWrapper = document.createElement('div');
                    cardWrapper.className = "relative group";
                    cardWrapper.innerHTML = `
                        <div class="p-8 rounded-xl shadow-lg transition-all duration-300 cursor-pointer course-card flex flex-col items-center justify-center text-center h-full">
                            <div class="w-16 h-16 rounded-full mx-auto flex items-center justify-center shadow-lg mb-6" style="background-color: var(--primary-blue);">${course.icon}</div>
                            <h3 class="text-2xl font-bold text-theme-primary text-center">${course.title}</h3>
                            <p class="mt-2 text-theme-secondary text-center">${course.description}</p>
                        </div>
                        <div class="course-details">
                            <h4 class="text-xl font-bold text-theme-primary mb-4 text-center">${course.title} Features</h4>
                            <ul class="space-y-3 text-theme-secondary">
                                ${course.features.map(feature => `<li class="flex items-start"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2 flex-shrink-0 mt-1" style="color: var(--primary-blue);"><polyline points="13 17 18 12 13 7"></polyline><polyline points="6 17 11 12 6 7"></polyline></svg><span>${feature}</span></li>`).join('')}
                            </ul>
                        </div>
                    `;
                    coursesGrid.appendChild(cardWrapper);
                });
            }
            
            // --- AUTHENTICATION LOGIC ---
            async function handleAuth() {
                const email = document.getElementById('email').value.trim();
                const password = document.getElementById('password').value;
                authMessage.textContent = '';
                if (!email || !password) {
                    authMessage.textContent = 'Please enter both email and password.';
                    return;
                }
                authBtn.disabled = true;
                authBtn.textContent = 'Processing...';
                try {
                    if (isSignIn) {
                        await signInWithEmailAndPassword(auth, email, password);
                    } else {
                        const userCredential = await createUserWithEmailAndPassword(auth, email, password);
                        const user = userCredential.user;
                        const userDocRef = doc(db, "users", user.uid);
                        await setDoc(userDocRef, {
                            email: user.email,
                            createdAt: serverTimestamp(),
                            profileComplete: false
                        });
                    }
                } catch (error) {
                    authMessage.textContent = error.message.replace('Firebase: ', '');
                    authBtn.disabled = false;
                    authBtn.textContent = isSignIn ? 'Sign In' : 'Sign Up';
                }
            }

            async function submitProfile() {
                const user = auth.currentUser;
                if (!user) { console.error("Submit profile failed: No user is logged in."); return; }
                const profileData = {
                    name: document.getElementById('name').value.trim(),
                    dob: document.getElementById('dob').value,
                    sex: document.getElementById('sex').value,
                    position: document.getElementById('position').value,
                    exam_pursuing: document.getElementById('exam_pursuing').value,
                    college: document.getElementById('college').value.trim(),
                    profileComplete: true
                };
                if (!profileData.name || !profileData.dob) {
                    showContentMessage('Please fill in at least your name and date of birth.');
                    return;
                }
                const submitBtn = document.querySelector('#profile-form-container button');
                submitBtn.disabled = true;
                submitBtn.textContent = "Saving...";
                const userDocRef = doc(db, "users", user.uid);
                try {
                    await setDoc(userDocRef, profileData, { merge: true });
                } catch (error) {
                    console.error("Error updating profile:", error);
                    showContentMessage("Could not update profile. Please try again.");
                    submitBtn.disabled = false;
                    submitBtn.textContent = "Submit Profile";
                }
            }
            
            // --- MAIN STATE CONTROLLER ---
            onAuthStateChanged(auth, async (user) => {
                const headerLoggedIn = document.getElementById('header-logged-in');
                const headerLoggedOut = document.getElementById('header-logged-out');
                const mobileLoggedIn = document.getElementById('mobile-logged-in');
                const mobileLoggedOut = document.getElementById('mobile-logged-out');

                try {
                    if (user) {
                        const userDocRef = doc(db, "users", user.uid);
                        const docSnap = await getDoc(userDocRef);
                        if (docSnap.exists() && docSnap.data().profileComplete) {
                            const userData = docSnap.data();
                            document.getElementById('user-greeting-header').textContent = userData.name ? userData.name.split(' ')[0] : 'User';
                            headerLoggedIn.classList.remove('hidden');
                            headerLoggedIn.classList.add('flex');
                            headerLoggedOut.classList.add('hidden');
                            mobileLoggedIn.classList.remove('hidden');
                            mobileLoggedOut.classList.add('hidden');
                            if (heroSignupButton) heroSignupButton.classList.add('hidden');
                            hideAuthModal();
                            profileForm.classList.add('hidden');
                            landingPage.classList.remove('hidden');
                        } else {
                            landingPage.classList.add('hidden');
                            profileForm.classList.remove('hidden');
                            hideAuthModal();
                        }
                    } else {
                        headerLoggedOut.classList.remove('hidden');
                        headerLoggedOut.classList.add('flex');
                        headerLoggedIn.classList.add('hidden');
                        mobileLoggedOut.classList.remove('hidden');
                        mobileLoggedIn.classList.add('hidden');
                        if (heroSignupButton) heroSignupButton.classList.remove('hidden');
                        landingPage.classList.remove('hidden');
                        profileForm.classList.add('hidden');
                    }
                } catch (error) {
                    console.error("Error in onAuthStateChanged:", error);
                    headerLoggedOut.classList.remove('hidden');
                    headerLoggedOut.classList.add('flex');
                    headerLoggedIn.classList.add('hidden');
                    landingPage.classList.remove('hidden');
                } finally {
                    loadingIndicator.classList.add('hidden');
                }
            });

            // --- EXPOSE FUNCTIONS TO GLOBAL SCOPE ---
            window.showAuthModal = (mode) => {
                isSignIn = (mode === 'signin');
                updateAuthModalUI();
                authModal.classList.remove('hidden');
            };
            window.hideAuthModal = () => authModal.classList.add('hidden');
            window.toggleAuth = () => {
                isSignIn = !isSignIn;
                updateAuthModalUI();
            };
            window.handleAuth = handleAuth;
            window.submitProfile = submitProfile;
            window.logout = async () => {
                try {
                    await signOut(auth);
                    showContentMessage("You have been logged out successfully.");
                } catch (e) {
                    console.error("Logout failed:", e);
                }
            };
            window.showDashboard = () => window.location.href = 'dashboard/index.html';
            window.showContentMessage = showContentMessage;
        });
    </script>
</body>
</html>
